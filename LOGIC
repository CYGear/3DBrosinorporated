document.getElementById('orderForm').addEventListener('submit', function (e) {
  e.preventDefault();

  const firstName = document.getElementById('firstName').value;
  const lastName = document.getElementById('lastName').value;
  
  // Get product quantities
  const product1Quantity = parseInt(document.getElementById('product1-quantity').value);
  const product2Quantity = parseInt(document.getElementById('product2-quantity').value);

  const product1Stock = parseInt(document.getElementById('product1-stock').textContent.split(':')[1].trim());
  const product2Stock = parseInt(document.getElementById('product2-stock').textContent.split(':')[1].trim());

  // Check if there's enough stock
  if (product1Quantity > product1Stock || product2Quantity > product2Stock) {
    alert("Not enough stock available.");
    return;
  }

  // Reduce stock
  document.getElementById('product1-stock').textContent = `In stock: ${product1Stock - product1Quantity}`;
  document.getElementById('product2-stock').textContent = `In stock: ${product2Stock - product2Quantity}`;

  // Display order details
  const orderDetails = `
    <h3>Order Details</h3>
    <p>Name: ${firstName} ${lastName}</p>
    <p>Product 1 Quantity: ${product1Quantity}</p>
    <p>Product 2 Quantity: ${product2Quantity}</p>
    <p>Time: ${new Date().toLocaleString()}</p>
  `;
  document.getElementById('orderDetails').innerHTML = orderDetails;

  // Send order details (you'd typically send this to the server here, which would handle emailing the details)
  sendOrderDetailsToServer({ firstName, lastName, product1Quantity, product2Quantity });
});

function sendOrderDetailsToServer(order) {
  // This function can send order details to the server to store and email the order confirmation
  console.log('Order sent to server:', order);
  // Placeholder for your server request code
}
